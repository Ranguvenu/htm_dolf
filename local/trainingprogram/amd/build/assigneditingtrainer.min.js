define("local_trainingprogram/assigneditingtrainer",["exports","core/ajax","core/config","core/notification","core/str","jquery"],(function(_exports,_ajax,_config,_notification,_str,_jquery){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * @module     local_trainingprogram
   * @copyright  Moodle India
   * @author 	   Ikram Ahmad (ikram.ahmad@moodle.com)
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.users=_exports.orgusers=void 0,_ajax=_interopRequireDefault(_ajax),_config=_interopRequireDefault(_config),_notification=_interopRequireDefault(_notification),_str=_interopRequireDefault(_str),_jquery=_interopRequireDefault(_jquery);var Selectors_actions={addOrRemoveTrainer:'[role="option"]',save:'[data-action="save"]',checkbox:'[class="editing_trainer"]'};_exports.users=function(e){for(var selectedTrainer,dropdown=document.getElementById("program_users"),i=0;i<dropdown.options.length;i++)dropdown.options[i].selected&&(selectedTrainer=dropdown.options[i].value,document.querySelector(".assignedditingtrainer_"+selectedTrainer)||_ajax.default.call([{methodname:"local_trainingprogram_edditingtrainer_confirmation",args:{trainer_id:selectedTrainer}}])[0].done((function(resp){(0,_jquery.default)(".mform").append(resp.str)})).fail((function(exception){console.log(exception)})));document.addEventListener("click",(function(e){var trainer_ids=[],tagName=e.target.tagName,is_removed=e.target.closest(Selectors_actions.addOrRemoveTrainer);if("SPAN"==tagName&&null!=is_removed){var removed_trainer=is_removed.getAttribute("data-value");(0,_jquery.default)(".assignedditingtrainer_"+removed_trainer).remove()}var checkbox=document.querySelectorAll(".editing_trainer"),editingtrainer=document.querySelector(".editingtrainer");if(checkbox)for(var i=0;i<checkbox.length;i++)if(trainer_ids.push(parseInt(checkbox[i].value)),checkbox[i].checked){ids=trainer_ids.join(",");editingtrainer.value=ids}else{trainer_ids.pop(checkbox[i].value);var ids=trainer_ids.join(",");editingtrainer.value=ids}}))};_exports.orgusers=function(e){var selectedTrainer,dropdown=document.getElementsByName("oguser");dropdown=dropdown[0];for(var i=0;i<dropdown.options.length;i++)dropdown.options[i].selected&&(selectedTrainer=dropdown.options[i].value,document.querySelector(".assignedditingtrainer_"+selectedTrainer)||_ajax.default.call([{methodname:"local_trainingprogram_edditingtrainer_confirmation",args:{trainer_id:selectedTrainer}}])[0].done((function(resp){(0,_jquery.default)(".mform").append(resp.str)})).fail((function(exception){console.log(exception)})));document.addEventListener("click",(function(e){var trainer_ids=[],tagName=e.target.tagName,is_removed=e.target.closest(Selectors_actions.addOrRemoveTrainer);if("SPAN"==tagName&&null!=is_removed){var removed_trainer=is_removed.getAttribute("data-value");(0,_jquery.default)(".assignedditingtrainer_"+removed_trainer).remove()}var checkbox=document.querySelectorAll(".editing_trainer"),editingtrainer=document.querySelector(".editingtrainer");if(checkbox)for(var i=0;i<checkbox.length;i++)if(trainer_ids.push(parseInt(checkbox[i].value)),checkbox[i].checked){ids=trainer_ids.join(",");editingtrainer.value=ids}else{trainer_ids.pop(checkbox[i].value);var ids=trainer_ids.join(",");editingtrainer.value=ids}}))}}));

//# sourceMappingURL=assigneditingtrainer.min.js.map