{"version":3,"file":"tpview.min.js","sources":["../src/tpview.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * TODO describe module tpview\n *\n * @module     local_trainingprogram/tpview\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport TPDynamicForm from 'local_trainingprogram/dynamicform';\nimport ModalForm from 'core_form/modalform';\nimport ModalFactory from 'core/modal_factory';\nimport ModalEvents from 'core/modal_events';\nimport Templates from 'core/templates';\nimport Ajax from 'core/ajax';\nimport homepage from 'theme_academy/homepage';\nimport {get_string as getString} from 'core/str';\nimport $ from 'jquery';\n\nconst Selectors = {\n    actions: {\n        viewprogramsectors: '[data-action=\"viewprogramsectors\"]',\n        currentofferings: '[data-action=\"currentofferings\"]',\n        mapcompetencies: '[data-action=\"mapcompetencies\"]',\n        competencies: '[data-action=\"competencies\"]',\n        programagenda: '[data-action=\"programagenda\"]',\n        viewprogramgoal: '[data-action=\"viewprogramgoal\"]',\n        deleteprogramgoals: '[data-action=\"deleteprogramgoals\"]',\n        addcpd: '[data-action=\"addcpd\"]',\n        edittrainigprogram: '[data-action=\"edittrainigprogram\"]',\n        deletetrainigprogram: '[data-action=\"deletetrainigprogram\"]',\n        showactivities : '[data-action=\"showactivities\"]',\n        viewprogramtopic :'[data-action=\"viewprogramtrainingtopics\"]',\n        addsections  : '[data-action=\"sectionsmapping\"]'\n    },\n};\n\nlet HomePage = new homepage();\nexport const init = () => {\n    document.addEventListener('click', function(e) {\n        e.stopImmediatePropagation();\n        let viewprogramsectors = e.target.closest(Selectors.actions.viewprogramsectors);\n        if (viewprogramsectors) {\n            const programid = viewprogramsectors.getAttribute('data-id');\n            var params = {};\n            params.programid = programid;\n            var promise = Ajax.call([{\n                methodname: 'local_trainingprogram_viewprogramsectors',\n                args: params\n            }]);\n            promise[0].done(function(resp) {\n                ModalFactory.create({\n                    title: getString('viewprogramsectors', 'local_trainingprogram'),\n                    type: ModalFactory.types.DEFAULT,\n                    body: resp.options,\n                }).done(function(modal) {\n                    this.modal = modal;\n                    this.modal.setLarge();\n                    modal.show();\n                }.bind(this));\n            }).fail(function() {\n                // do something with the exception\n                 console.log('exception');\n            });\n        }\n        let currentofferings = e.target.closest(Selectors.actions.currentofferings);\n        if (currentofferings) {\n            e.stopImmediatePropagation();\n            const programid = currentofferings.getAttribute('data-id');\n            const sorting = currentofferings.getAttribute('data-sorting');\n            var options = {};\n            options.programid = programid;\n            options.sorting = sorting;\n            var trigger = $(Selectors.actions.currentofferings);\n            ModalFactory.create({\n                title: getString('currentofferings', 'local_trainingprogram'),\n                body: Templates.render('local_trainingprogram/current_offerings_display',options)\n            }, trigger)\n            .done(function(modal) {\n               this.modal = modal;\n               this.modal.setLarge();\n                this.modal.getRoot().addClass('currentofferingsmodel');\n                modal.show();\n                modal.getRoot().on(ModalEvents.hidden, function() {\n                modal.destroy();\n                }.bind(this));\n            });\n        }\n        let mapcompetencies = e.target.closest(Selectors.actions.mapcompetencies);\n        if (mapcompetencies) {\n            e.preventDefault();\n            const title = getString('mapcompetencies', 'local_trainingprogram');\n            const form = new TPDynamicForm({\n                formClass: 'local_trainingprogram\\\\form\\\\competenciesform',\n                args: {id: mapcompetencies.getAttribute('data-id')},\n                modalConfig: {title},\n                returnFocus: mapcompetencies,\n            });\n            form.addEventListener(form.events.FORM_SUBMITTED, () => window.location.reload());\n            form.show();\n        }\n        let competencies = e.target.closest(Selectors.actions.competencies);\n        if (competencies) {\n            const programid = competencies.getAttribute('data-id');\n            var options = {};\n            options.programid = programid;\n            var trigger = $(Selectors.actions.competencies);\n            ModalFactory.create({\n                title: getString('mapcompetencies', 'local_trainingprogram'),\n                body: Templates.render('local_trainingprogram/competencies_display',options)\n            }, trigger)\n            .done(function(modal) {\n                modal.setLarge();\n                modal.show();\n                modal.getRoot().on(ModalEvents.hidden, function() {\n                modal.destroy();\n                }.bind(this));\n            });\n        }\n        ///Ramanjaneyulu Added\n            let addcpd = e.target.closest(Selectors.actions.addcpd);\n            if (addcpd) {\n            const programid = addcpd.getAttribute('data-id');\n            var options = {};\n            options.programid = programid;\n            var trigger = $(Selectors.actions.addcpd);\n            ModalFactory.create({\n                title: getString('addcpd', 'local_trainingprogram'),\n                body: Templates.render('local_trainingprogram/addcpd_display',options)\n            }, trigger)\n            .done(function(modal) {\n                modal.setLarge();\n                modal.show();\n                modal.getRoot().on(ModalEvents.hidden, function() {\n                modal.destroy();\n                }.bind(this));\n            });\n        }\n\n           let addtrainigprogram = e.target.closest(Selectors.actions.edittrainigprogram);\n           if (addtrainigprogram) {\n            e.preventDefault();\n            const title = getString('addcpd', 'local_trainingprogram');\n            const form = new ModalForm({\n                formClass: 'local_trainingprogram\\\\form\\\\cpd_form',\n                args: {id: addtrainigprogram.getAttribute('data-ctpid'), prgid: addtrainigprogram.getAttribute('data-prgid')},\n                modalConfig: {title},\n                returnFocus: addtrainigprogram,\n            });\n            form.addEventListener(form.events.FORM_SUBMITTED, () => window.location.reload());\n            form.show();\n        }\n\n        let deletetrainigprogram = e.target.closest(Selectors.actions.deletetrainigprogram);\n        if (deletetrainigprogram) {\n            const programid = deletetrainigprogram.getAttribute('data-id');\n            const programname = deletetrainigprogram.getAttribute('data-name');\n            ModalFactory.create({\n                title: getString('delete', 'local_trainingprogram'),\n                type: ModalFactory.types.SAVE_CANCEL,\n                body: getString('deleteconfirmcpd', 'local_trainingprogram', programname)\n            }).done(function(modal) {\n                this.modal = modal;\n                modal.setSaveButtonText(getString('delete_cpd', 'local_trainingprogram'));\n                modal.getRoot().on(ModalEvents.save, function(e) {\n                    e.preventDefault();\n                    var params = {};\n                    params.confirm = true;\n                    params.programid = programid;\n                    var promise = Ajax.call([{\n                        methodname: 'local_cpd_delete_training_program',\n                        args: params\n                    }]);\n                    promise[0].done(function() {\n                        window.location.reload(true);\n                    }).fail(function() {\n                        // do something with the exception\n                    });\n                }.bind(this));\n                modal.show();\n            }.bind(this));\n        }\n        ///Ramanjaneyulu Added\n\n        let programagenda = e.target.closest(Selectors.actions.programagenda);\n        if (programagenda) {\n            const programname = programagenda.getAttribute('data-programname');\n            const title = getString('viewprogramagenda', 'local_trainingprogram',programname);\n            const form = new TPDynamicForm({\n                formClass: 'local_trainingprogram\\\\form\\\\programagendaform',\n                args: {programid: programagenda.getAttribute('data-programid'),programname: programagenda.getAttribute('data-programname')},\n                modalConfig: {title},\n                returnFocus: programagenda,\n            });\n            form.addEventListener(form.events.FORM_SUBMITTED, () => window.location.reload());\n            form.show();\n        }\n\n        let viewprogramgoal = e.target.closest(Selectors.actions.viewprogramgoal);\n        if (viewprogramgoal) {\n            e.stopImmediatePropagation();\n            const programid = viewprogramgoal.getAttribute('data-programid');\n            const programname = viewprogramgoal.getAttribute('data-name');\n            var options = {};\n            options.programid = programid;\n            options.programname = programname;\n            var trigger = $(Selectors.actions.viewprogramgoal);\n            ModalFactory.create({\n                title: getString('viewprogramgoal', 'local_trainingprogram',programname),\n                body: Templates.render('local_trainingprogram/viewprogramgoalsdisplay',options)\n            }, trigger)\n            .done(function(modal) {\n               this.modal = modal;\n               this.modal.setLarge();\n                modal.show();\n                modal.getRoot().on(ModalEvents.hidden, function() {\n                modal.destroy();\n                }.bind(this));\n            });\n        }\n\n\n        let deleteprogramgoals = e.target.closest(Selectors.actions.deleteprogramgoals);\n        if (deleteprogramgoals) {\n           // alert('hi');\n             e.preventDefault();\n             const responsibilityid = deleteprogramgoals.getAttribute('data-id');\n            ModalFactory.create({\n                title: getString('deletelevelconfirm', 'local_trainingprogram'),\n                type: ModalFactory.types.SAVE_CANCEL,\n                body: getString('rsponsedeleteconfirm', 'local_trainingprogram')\n            }).done(function(modal) {\n                this.modal = modal;\n                modal.setSaveButtonText(getString('deletetext', 'local_trainingprogram'));\n                modal.getRoot().on(ModalEvents.save, function(e) {\n                    e.preventDefault();\n                    var params = {};\n                    params.responseid = responsibilityid;\n                    var promise = Ajax.call([{\n                        methodname: 'deleteprogramgoals',\n                        args: params\n                    }]);\n                    promise[0].done(function(resp) {\n                        window.location.reload(true);\n                    }).fail(function() {\n                        console.log('exception');\n                    });\n                }.bind(this));\n                modal.show();\n            }.bind(this));\n        }\n\n        // SUPPORT TRK164_12418\n\n        let showactivities = e.target.closest(Selectors.actions.showactivities);\n        if (showactivities) {\n            const offeringcode = showactivities.getAttribute('data-code');\n            const title = getString('todo', 'local_trainingprogram',offeringcode);\n            const form = new TPDynamicForm({\n                formClass: 'local_trainingprogram\\\\form\\\\todoactivities_form',\n                args: {offeringid: showactivities.getAttribute('data-id'),offeringcode: showactivities.getAttribute('data-code'), evaluationmethods:showactivities.getAttribute('data-evaluationmethods')},\n                modalConfig: {title},\n                returnFocus: showactivities,\n            });\n            form.addEventListener(form.events.FORM_SUBMITTED, () => '');\n            form.show();\n        }\n\n\n      \n        let viewprogramtopic = e.target.closest(Selectors.actions.viewprogramtopic);\n   \n\n        if (viewprogramtopic) {\n           \n\n            const programid = viewprogramtopic.getAttribute('data-id');\n            var params = {};\n            params.programid = programid;\n            var promise = Ajax.call([{\n                methodname: 'local_trainingprogram_viewprogramtopics',\n                args: params\n            }]);\n            promise[0].done(function(resp) {\n                ModalFactory.create({\n                    title: getString('viewprogramtopics', 'local_trainingprogram'),\n                    type: ModalFactory.types.DEFAULT,\n                    body: resp.options,\n                }).done(function(modal) {\n                    this.modal = modal;\n                    this.modal.setLarge();\n                    modal.show();\n                }.bind(this));\n            }).fail(function() {\n                // do something with the exception\n                 console.log('exception');\n            });\n        }\n        //SUPPORT TRK164_12471 --renu\n \n        let sections = e.target.closest(Selectors.actions.addsections);\n        if (sections) {\n            const offeringcode = sections.getAttribute('data-code');\n            const title = getString('addsections', 'local_trainingprogram',offeringcode);\n            const form = new TPDynamicForm({\n                formClass: 'local_trainingprogram\\\\form\\\\addsection_form',\n                args: {offeringid: sections.getAttribute('data-id'),offeringcode: sections.getAttribute('data-code')},\n                modalConfig: {title},\n                returnFocus: sections,\n            });\n            form.addEventListener(form.events.FORM_SUBMITTED, () => '');\n            form.show();\n        }\n    });\n};\nexport const load = (tuserid, entityid, referenceid, type) => {\n\n    if (isNaN(tuserid)) {\n        var params = {};\n        params.entityid = entityid;\n        params.referenceid = referenceid;\n        params.tuserid = tuserid;\n        params.type = type;\n        var promise = Ajax.call([{\n            methodname: 'local_exams_get_orgorderdetails',\n            args: params\n        }]);\n        promise[0].done(function(orderdetailsresp) {\n\n            console.log(orderdetailsresp);\n\n            if(orderdetailsresp.response == 'success') {\n\n                Templates.renderForPromise('tool_product/loader', {}).then(({html, js}) => {\n                    Templates.appendNodeContents('#region-main-box', html, js);\n                });\n\n                if(orderdetailsresp.hasprivateandinvoice == 1) {\n                  HomePage.confirmbox(getString('privateofferingexistsinvoicemessage', 'local_trainingprogram',orderdetailsresp.existinginvoice_number));\n                  setTimeout(function() {\n                    window.location = M.cfg.wwwroot + '/local/trainingprogram/index.php';\n                  },4000);\n\n                } else {\n                    // Org official enrolling users\n                    if (orderdetailsresp.returnparams != \"\" && orderdetailsresp.autoapproval == 1) {\n                        event.preventDefault();\n                        let promise = Ajax.call([{\n                            methodname: 'tool_product_postpaid_payments',\n                            args: {\n                                products: orderdetailsresp.returnparams\n                            }\n                        }]);\n                        promise[0].done((response) => { \n\n                            var params = {};\n                            params.orderid = response.paymentid;\n                            var promise = Ajax.call([{\n                                methodname: 'tool_product_get_orderinfo',\n                                args: params\n                            }]);\n                            promise[0].done(function(resp) {\n                                if (resp) {\n                                    let promises = Ajax.call([{\n                                        methodname: 'tool_product_generate_sadadbill',\n                                        args: {\n                                            products: resp.info\n                                        }\n                                    }]);\n                                    promises[0].done((response) => {\n                                        console.log(orderdetailsresp);\n                                            // User Enrollment service(start)\n                                            var enrolparams = {};\n                                            enrolparams.entityid = entityid;\n                                            enrolparams.referenceid = referenceid;\n                                            enrolparams.type = type;\n                                            enrolparams.tuserid = tuserid;\n                                            enrolparams.orderid = 0;\n                                            enrolparams.discountprice = orderdetailsresp.discountprice;\n                                            enrolparams.discounttype = orderdetailsresp.discounttype;\n                                            enrolparams.discounttableid = orderdetailsresp.discounttableid;\n                                            enrolparams.autoapproval = orderdetailsresp.autoapproval;\n                                            var promise = Ajax.call([{\n                                                methodname: 'local_trainingprogram_org_enroluser',\n                                                args: enrolparams\n                                            }]);\n\n                                            promise[0].done(function(resp) {  \n                                                if (type == 'program') {\n                                                    window.location = M.cfg.wwwroot + '/local/trainingprogram/index.php';\n                                                } else {\n                                                    window.location = M.cfg.wwwroot + '/local/events/index.php';\n                                                }\n                                            }).fail(function() {\n                                                // do something with the exception\n                                                    console.log('exception');\n                                            });\n                                    }).fail( (error) => {\n                                        ModalFactory.create({\n                                            title: '',\n                                            type: ModalFactory.types.DEFAULT,\n                                            body: error.message,\n                                            footer: '<button type=\"button\" class=\"btn btn-primary\" data-action=\"save\">Ok</button>'\n                                        }).done(function(modal) {\n                                            this.modal = modal;\n                                            modal.getFooter().find('[data-action=\"save\"]').on('click', function() {\n                                                if (type == 'program') {\n                                                    window.location = M.cfg.wwwroot + '/local/trainingprogram/programenrollment.php?programid='+entityid+'&offeringid='+referenceid;\n                                                } else {\n                                                    window.location = M.cfg.wwwroot + '/local/events/attendees.php?id='+entityid;\n                                                }\n                                                modal.hide();\n                                            });\n                                            modal.show();\n                                        }.bind(this));\n                                        // HomePage.confirmbox(error.message);\n                                    });\n                                }\n                            }).fail( (error) => {\n                                HomePage.confirmbox(error.message);\n                            });\n                        }).fail( (error) => {    \n                            HomePage.confirmbox(error.error);\n                        });\n                    } else {\n                        let promise = Ajax.call([{\n                            methodname: 'tool_product_postpaid_payments',\n                            args: {\n                                products: orderdetailsresp.returnparams\n                            }\n                        }]);\n                        promise[0].done((response) => {\n                            // Please write the program enrollment service(start)\n                            var enrolparams = {};\n                            enrolparams.entityid = entityid;\n                            enrolparams.referenceid = referenceid;\n                            enrolparams.type = type;\n                            enrolparams.tuserid = tuserid;\n                            enrolparams.orderid = response.paymentid;\n                            enrolparams.discountprice = orderdetailsresp.discountprice;\n                            enrolparams.discounttype = orderdetailsresp.discounttype;\n                            enrolparams.discounttableid = orderdetailsresp.discounttableid;\n                            enrolparams.autoapproval = orderdetailsresp.autoapproval;\n                            var promise = Ajax.call([{\n                                methodname: 'local_trainingprogram_org_enroluser',\n                                args: enrolparams\n                            }]);\n\n                            promise[0].done(function(resp) {  \n                                console.log('successfully enrolled');\n                                ModalFactory.create({\n                                    title: getString('confirm', 'local_exams'),\n                                    type: ModalFactory.types.DEFAULT,\n                                    body: getString('ordersubmitted', 'tool_product')\n                                }).done(function(modal) {\n                                    this.modal = modal;\n                                    modal.show();\n                                    if (type == 'program') {\n                                        window.location = M.cfg.wwwroot + '/local/trainingprogram/index.php';\n                                    } else {\n                                        window.location = M.cfg.wwwroot + '/local/events/index.php';\n                                    }\n                                }.bind(this));\n                            }).fail(function() {\n                                // do something with the exception\n                                console.log('exception');\n                            });\n\n                        }).fail( (error) => {\n                            HomePage.confirmbox(error.error);\n                        });\n                    }\n               }\n            } else {\n                modal.hide();\n                HomePage.confirmbox(resp.response);\n            }\n\n        }).fail( (error) => {\n            HomePage.confirmbox(error.message);\n        });\n    }\n}\n"],"names":["Selectors","viewprogramsectors","currentofferings","mapcompetencies","competencies","programagenda","viewprogramgoal","deleteprogramgoals","addcpd","edittrainigprogram","deletetrainigprogram","showactivities","viewprogramtopic","addsections","HomePage","homepage","document","addEventListener","e","stopImmediatePropagation","target","closest","programid","getAttribute","params","Ajax","call","methodname","args","done","resp","create","title","type","ModalFactory","types","DEFAULT","body","options","modal","setLarge","show","bind","this","fail","console","log","sorting","trigger","Templates","render","getRoot","addClass","on","ModalEvents","hidden","destroy","preventDefault","form","TPDynamicForm","formClass","id","modalConfig","returnFocus","events","FORM_SUBMITTED","window","location","reload","addtrainigprogram","ModalForm","prgid","programname","SAVE_CANCEL","setSaveButtonText","save","responsibilityid","responseid","offeringcode","offeringid","evaluationmethods","sections","tuserid","entityid","referenceid","isNaN","orderdetailsresp","response","renderForPromise","then","html","js","appendNodeContents","hasprivateandinvoice","confirmbox","existinginvoice_number","setTimeout","M","cfg","wwwroot","returnparams","autoapproval","event","products","orderid","paymentid","info","enrolparams","discountprice","discounttype","discounttableid","error","message","footer","getFooter","find","hide","_this"],"mappings":"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"}