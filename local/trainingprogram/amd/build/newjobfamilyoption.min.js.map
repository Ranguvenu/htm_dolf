{"version":3,"file":"newjobfamilyoption.min.js","sources":["../src/newjobfamilyoption.js"],"sourcesContent":["import Ajax from 'core/ajax';\nimport cfg from 'core/config';\nimport $ from 'jquery';\n\nconst Selectors = {\n\tactions: {\n\t\taddOrRemoveJobfamilyOption: '[role=\"option\"]',\n\t\tsave: '[data-action=\"save\"]',\n\t\tcheckbox: '[class=\"jobfamily_options\"]',\n\t},\n}; \n\nrequire(['jquery'], function($) {\n    $(document).ready(function(){\n\t\t\n    });\n});\n\n\n\n\nexport const init = () => {\n\tdocument.addEventListener('click', function(e){\n\t\t/*var notappliedtargetgroup = $('input[id^=\"id_notappliedtargetgroup_\"]:checked').map(function() {\n\t\t\treturn this.value;\n\t\t}).get();\n\t\tconsole.log(\"notappliedtargetgroup \" + notappliedtargetgroup)\n\t\tif(notappliedtargetgroup!='') {\n\t\t\t$('.newjobfamilyoption').hide();\n\t\t\t$(\"#alltargetgroup\").hide();\n\t\t\t$('#fitem_jobfamily_dropdown').hide();\n\t\t} else {\n\t\t\t$('.newjobfamilyoption').show();\n\t\t\t$(\"#alltargetgroup\").show();\n\t\t\t$('#fitem_jobfamily_dropdown').show();\n\t\t}*/\n\t\tvar fitem_jobfamily_dropdown = document.getElementById(\"jobfamily_dropdown\");\n\t\n\t\tvar notappliedtargetgroup = $('input[name=notappliedtargetgroup]:checked').map(function() {\n\t\t\treturn this.value;\n\t\t}).get();\n\n\t\tvar alltargetgroup = $('input[name=alltargetgroup]:checked').map(function() {\n\t\t\treturn this.value;\n\t\t}).get();\n\t\tif(alltargetgroup!='' || notappliedtargetgroup!='') {\n\t\t\tlet checkbox = document.querySelectorAll('.newjobfamily_options');\n\t\t\tif(checkbox.length > 0){\n\t\t\t\tfor (var i = 0; i < checkbox.length; i++) {\n\t\t\t\t\t\tcheckbox[i].disabled = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\t$('input[id^=\"newjobfamilyoptions_\"]').not(this).prop('checked', false);\n\t\t\t\n\t\t}\n\t\telse if(alltargetgroup =='' || notappliedtargetgroup =='') {\n\t\t\tlet checkbox = document.querySelectorAll('.newjobfamily_options');\n\t\t\tif(checkbox.length > 0){\n\t\t\t\tfor (var i = 0; i < checkbox.length; i++) {\n\t\t\t\t\t\tcheckbox[i].disabled = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\telse {\n\t\t\t\n\t\t\t$('.newjobfamilyoption').show();\n\t\t}\n\n\t\tvar jobfamilycheckbx = $('input[id^=\"newjobfamilyoptions_\"]:checked').map(function() {\n\t\t\treturn this.value;\n\t\t}).get();\n\t\t\n\t\t/*var notappliedtargetgroup = $('input[name=notappliedtargetgroup]:checked').map(function() {\n\t\t\tdocument.getElementById(\"newjobfamilyoptions_\").disabled = true;\n\t\t}).get();*/\n\t\t// if(jobfamilycheckbx!='') {\n\t\t// \t$('.notapplied').hide();\n\t\t// \t// $(\"#alltargetgroup\").hide();\n\t\t// } else {\n\t\t// \t$('.notapplied').show();\n\t\t// \t// $(\"#alltargetgroup\").show();\n\t\t// }\n\n\t\t\n       \n\n\t\tvar sector_ids = [];\n\t\tlet tagName = e.target.tagName;\n\t\tlet is_removed = e.target.closest(Selectors.actions.addOrRemoveJobfamilyOption);\n\t\tif (tagName == 'SPAN') {\n\t\t\tif (is_removed != null) {\n\t\t\t\tlet removed_option = is_removed.getAttribute('data-value');\n\t\t\t\t$('.newjobfamilyoptions_'+removed_option).remove();\n\t\t\t}\n\t\t}\n       \n\n\t\t// var JobfamilyOption;\n\t\tlet checkbox = document.querySelectorAll('.newjobfamily_options');\n\t\tvar jobfamilynew_option = document.querySelector('.new_jobfamily_option');\n\t\tif (checkbox) {\n\t\t\tfor (var i = 0; i < checkbox.length; i++) {\n\t\t\t\tsector_ids.push(parseInt(checkbox[i].value));\n\t\t\t\tif(!checkbox[i].checked){\n\t\t\t\t\tsector_ids.pop(checkbox[i].value);\n\t\t\t\t\tvar ids = sector_ids.join(',');\n\t\t\t\t\tjobfamilynew_option.value = ids;\n\t\t\t\t}else{\n\t\t\t\t\tvar ids = sector_ids.join(',');\n\t\t\t\t\tjobfamilynew_option.value = ids;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n}"],"names":["Selectors","addOrRemoveJobfamilyOption","save","checkbox","require","$","document","ready","addEventListener","e","getElementById","notappliedtargetgroup","map","this","value","get","alltargetgroup","querySelectorAll","length","i","disabled","not","prop","show","sector_ids","tagName","target","is_removed","closest","removed_option","getAttribute","remove","jobfamilynew_option","querySelector","push","parseInt","checked","ids","join","pop"],"mappings":"kaAIMA,kBACI,CACRC,2BAA4B,kBAC5BC,KAAM,uBACNC,SAAU,+BAIZC,QAAQ,CAAC,WAAW,SAASC,GACzBA,EAAEC,UAAUC,OAAM,gCAQF,WACnBD,SAASE,iBAAiB,SAAS,SAASC,GAcZH,SAASI,eAAe,0BAEnDC,uBAAwB,mBAAE,6CAA6CC,KAAI,kBACvEC,KAAKC,SACVC,MAECC,gBAAiB,mBAAE,sCAAsCJ,KAAI,kBACzDC,KAAKC,SACVC,SACgB,IAAhBC,gBAA6C,IAAvBL,sBAA2B,KAC/CR,UAAWG,SAASW,iBAAiB,4BACtCd,UAASe,OAAS,MACf,IAAIC,EAAI,EAAGA,EAAIhB,UAASe,OAAQC,IACnChB,UAASgB,GAAGC,UAAW,sBAGxB,qCAAqCC,IAAIR,MAAMS,KAAK,WAAW,QAG7D,GAAoB,IAAjBN,gBAA+C,IAAxBL,sBAA4B,KACtDR,WAAWG,SAASW,iBAAiB,4BACtCd,WAASe,OAAS,MACXC,EAAI,EAAGA,EAAIhB,WAASe,OAAQC,IACnChB,WAASgB,GAAGC,UAAW,0BAOxB,uBAAuBG,QAGH,mBAAE,6CAA6CX,KAAI,kBAClEC,KAAKC,SACVC,UAgBCS,WAAa,GACbC,QAAUhB,EAAEiB,OAAOD,QACnBE,WAAalB,EAAEiB,OAAOE,QAAQ5B,kBAAkBC,+BACrC,QAAXwB,SACe,MAAdE,WAAoB,KACnBE,eAAiBF,WAAWG,aAAa,kCAC3C,wBAAwBD,gBAAgBE,aAMxC5B,SAAWG,SAASW,iBAAiB,yBACrCe,oBAAsB1B,SAAS2B,cAAc,4BAC7C9B,aACMgB,EAAI,EAAGA,EAAIhB,SAASe,OAAQC,OACpCK,WAAWU,KAAKC,SAAShC,SAASgB,GAAGL,QACjCX,SAASgB,GAAGiB,QAIX,CACAC,IAAMb,WAAWc,KAAK,KAC1BN,oBAAoBlB,MAAQuB,QANL,CACvBb,WAAWe,IAAIpC,SAASgB,GAAGL,WACvBuB,IAAMb,WAAWc,KAAK,KAC1BN,oBAAoBlB,MAAQuB"}