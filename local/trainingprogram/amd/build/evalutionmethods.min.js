define("local_trainingprogram/evalutionmethods",["exports","local_trainingprogram/dynamicform","core_form/modalform","core/modal_factory","core/modal_events","core/ajax","core/str"],(function(_exports,_dynamicform,_modalform,_modal_factory,_modal_events,_ajax,_str){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_dynamicform=_interopRequireDefault(_dynamicform),_modalform=_interopRequireDefault(_modalform),_modal_factory=_interopRequireDefault(_modal_factory),_modal_events=_interopRequireDefault(_modal_events),_ajax=_interopRequireDefault(_ajax);var Selectors_actions={createevalutionmethod:'[data-action="createevalutionmethod"]',deleteevalutionmethod:'[data-action="deleteevalution"]'};_exports.init=function(){document.addEventListener("click",(function(e){var element=e.target.closest(Selectors_actions.createevalutionmethod);if(element){e.preventDefault(),e.stopImmediatePropagation();var title=element.getAttribute("data-id")?(0,_str.get_string)("editevalutionmethod","local_trainingprogram"):(0,_str.get_string)("createevalutionmethod","local_trainingprogram"),form=new _dynamicform.default({formClass:"local_trainingprogram\\form\\evalutionmethod_form",args:{id:element.getAttribute("data-id")},modalConfig:{title:title},returnFocus:element});form.addEventListener(form.events.FORM_SUBMITTED,(function(){return window.location.reload()})),form.show()}var deleteevalution=e.target.closest(Selectors_actions.deleteevalutionmethod);if(deleteevalution){e.preventDefault(),e.stopImmediatePropagation();var id=deleteevalution.getAttribute("data-id"),pname=deleteevalution.getAttribute("data-name"),displayparams={};displayparams.id=id,displayparams.pname=pname,_modal_factory.default.create({title:(0,_str.get_string)("deleteconfirm","local_trainingprogram"),type:_modal_factory.default.types.SAVE_CANCEL,body:(0,_str.get_string)("deleteevalutionmessage","local_trainingprogram",displayparams)}).done(function(modal){this.modal=modal,modal.setSaveButtonText((0,_str.get_string)("deletetext","local_trainingprogram")),modal.getRoot().on(_modal_events.default.save,function(e){e.preventDefault();var params={};params.id=id,_ajax.default.call([{methodname:"local_trainingprogram_deleteevaluation",args:params}])[0].done((function(resp){window.location.reload(!0)})).fail((function(){console.log("exception")}))}.bind(this)),modal.show()}.bind(this))}}))}}));

//# sourceMappingURL=evalutionmethods.min.js.map