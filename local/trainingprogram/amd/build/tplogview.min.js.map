{"version":3,"file":"tplogview.min.js","sources":["../src/tplogview.js"],"sourcesContent":["import TPDynamicForm from 'local_trainingprogram/dynamicform';\nimport ModalForm from 'core_form/modalform';\nimport ModalFactory from 'core/modal_factory';\nimport ModalEvents from 'core/modal_events';\nimport Templates from 'core/templates';\nimport Ajax from 'core/ajax';\nimport homepage from 'theme_academy/homepage';\nimport {get_string as getString} from 'core/str';\nimport $ from 'jquery';\n\nconst Selectors = {\n    actions: {\n    \tofferinglogs: '[data-action=\"offeringlogs\"]'\n    },\n};\n\nlet HomePage = new homepage();\nexport const init = () => {\n    document.addEventListener('click', function(e) {\n        e.stopImmediatePropagation();\n\n        let offeringlogs = e.target.closest(Selectors.actions.offeringlogs);\n        if (offeringlogs) {\n            e.stopImmediatePropagation();\n            const programid = offeringlogs.getAttribute('data-id');\n            var options = {};\n            options.programid = programid;\n            var trigger = $(Selectors.actions.offeringlogs);\n            ModalFactory.create({\n                title: getString('offeringlogs', 'local_trainingprogram'),\n                body: Templates.render('local_trainingprogram/recent_offerings_display', options)\n            }, trigger)\n            .done(function(modal) {\n               this.modal = modal;\n               this.modal.setLarge();\n                this.modal.getRoot().addClass('currentofferingsmodel');\n                modal.show();\n                modal.getRoot().on(ModalEvents.hidden, function() {\n                modal.destroy();\n                }.bind(this));\n            });\n        }\n    });\n};\n"],"names":["Selectors","offeringlogs","homepage","document","addEventListener","e","stopImmediatePropagation","target","closest","programid","getAttribute","options","trigger","create","title","body","Templates","render","done","modal","setLarge","getRoot","addClass","show","on","ModalEvents","hidden","destroy","bind","this"],"mappings":"s2BAUMA,kBACO,CACRC,aAAc,gCAIJ,IAAIC,gCACC,WAChBC,SAASC,iBAAiB,SAAS,SAASC,GACxCA,EAAEC,+BAEEL,aAAeI,EAAEE,OAAOC,QAAQR,kBAAkBC,iBAClDA,aAAc,CACdI,EAAEC,+BACIG,UAAYR,aAAaS,aAAa,WACxCC,QAAU,GACdA,QAAQF,UAAYA,cAChBG,SAAU,mBAAEZ,kBAAkBC,qCACrBY,OAAO,CAChBC,OAAO,mBAAU,eAAgB,yBACjCC,KAAMC,mBAAUC,OAAO,iDAAkDN,UAC1EC,SACFM,MAAK,SAASC,YACPA,MAAQA,WACRA,MAAMC,gBACLD,MAAME,UAAUC,SAAS,yBAC9BH,MAAMI,OACNJ,MAAME,UAAUG,GAAGC,sBAAYC,OAAQ,WACvCP,MAAMQ,WACJC,KAAKC"}