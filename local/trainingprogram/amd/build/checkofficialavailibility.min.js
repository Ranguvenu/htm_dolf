define("local_trainingprogram/checkofficialavailibility",["exports","core/ajax","core/config","core/str","jquery","core/notification"],(function(_exports,_ajax,_config,_str,_jquery,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * @module     local_questionbank
   * @copyright  Moodle India
   * @author 	   Ikram Ahmad (ikram.ahmad@moodle.com)
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.CheckForOfficialAvailableSlot=void 0,_ajax=_interopRequireDefault(_ajax),_config=_interopRequireDefault(_config),_jquery=_interopRequireDefault(_jquery),_notification=_interopRequireDefault(_notification);_exports.CheckForOfficialAvailableSlot=function(element){(0,_str.get_string)("error"),(0,_str.get_string)("dateunchecked","local_trainingprogram");var ok=(0,_str.get_string)("ok"),savebtn=(document.querySelector('[name="startdate[enabled]"]'),document.querySelector('[name="enddate[enabled]"]'),document.querySelector('div.modal-footer>button[data-action="save"]')),ele=document.getElementById(element),officialId=ele.value;if(!isNaN(officialId)){savebtn.disabled=!0;var officialName=ele.options[ele.selectedIndex].text,trainingid=document.querySelector('[name="trainingid"]').value,startday=document.querySelector('[name="startdate[day]"]').value,startmonth=document.querySelector('[name="startdate[month]"]').value,startyear=document.querySelector('[name="startdate[year]"]').value,starttimehour=document.querySelector('[name="starttime[hours]"]').value,starttimeminute=document.querySelector('[name="starttime[minutes]"]').value,endday=document.querySelector('[name="enddate[day]"]').value,endmonth=document.querySelector('[name="enddate[month]"]').value,endyear=document.querySelector('[name="enddate[year]"]').value,endtimehour=document.querySelector('[name="endtime[hours]"]').value,endtimeminute=document.querySelector('[name="endtime[minutes]"]').value,meetingtype=document.querySelector('[name="meetingtype"]'),selectedmeeting=meetingtype.options[meetingtype.selectedIndex].text,params={};params.startday=startday,params.startmonth=startmonth,params.startyear=startyear,params.starttimehrs=starttimehour,params.starttimemin=starttimeminute,params.endday=endday,params.endmonth=endmonth,params.endyear=endyear,params.endtimehurs=endtimehour,params.endtimemin=endtimeminute,params.officialid=officialId,params.meetingtype=selectedmeeting,params.trainingid=trainingid,params.officialname=officialName,console.log("Checking if "+params.officialname+"can be assigned to this schedule"),_ajax.default.call([{methodname:"local_trainingprogram_checkofficial_availibility",args:params}])[0].done((function(resp){if(0==resp.status){console.log("This Official cannot be assigned to this schedule..!");var title=(0,_str.get_string)("cannotassign","local_trainingprogram"),msg=(0,_str.get_string)("cannotassignofficial","local_trainingprogram",resp.official_name);_notification.default.alert(title,msg,ok),savebtn.disabled=!0,document.querySelector("#training-officials").selectedIndex=-1}else console.log("Yes this official can be assgned to this schedule."),savebtn.disabled=!1})).fail((function(){document.querySelector("#training-officials").selectedIndex=-1,console.log("Something went wrong..!")}))}}}));

//# sourceMappingURL=checkofficialavailibility.min.js.map