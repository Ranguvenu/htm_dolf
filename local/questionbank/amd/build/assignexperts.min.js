define("local_questionbank/assignexperts",["exports","core/ajax","core/config","core/str","jquery","core/notification"],(function(_exports,_ajax,_config,_str,_jquery,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * @module     local_questionbank
   * @copyright  Moodle India
   * @author 	   Ikram Ahmad (ikram.ahmad@moodle.com)
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.removeexpert=_exports.checkvalue=void 0,_ajax=_interopRequireDefault(_ajax),_config=_interopRequireDefault(_config),_jquery=_interopRequireDefault(_jquery),_notification=_interopRequireDefault(_notification);const Selectors_actions={addOrRemoveexpert:'[role="option"]',fdescription:'[class="fdescription"]'};_exports.removeexpert=()=>{document.addEventListener("click",(function(e){if(document.getElementsByName("_qf__local_questionbank_form_expertsform").length>0){let tagName=e.target.tagName,is_removed=e.target.closest(Selectors_actions.addOrRemoveexpert);if("SPAN"==tagName){if(null!=is_removed){let removed_expert=is_removed.getAttribute("data-value");(0,_jquery.default)(".noofquestionsfor_"+removed_expert).remove()}}else if("LI"==tagName){document.querySelector('div.modal-footer>button[data-action="save"]').disabled=!0;const fdescription=document.querySelector(".fdescription");let selectExpert=e.target.closest(Selectors_actions.addOrRemoveexpert);if(selectExpert){let seleceted_expertid=selectExpert.getAttribute("data-value");seleceted_expertid&&_jquery.default.ajax({url:_config.default.wwwroot+"/local/questionbank/process.php",data:{expert_id:seleceted_expertid},type:"POST",success:function(names){let element=JSON.parse(names);(0,_jquery.default)(".fdescription").remove(),(0,_jquery.default)(".mform").append(element.allowedquestionfields),(0,_jquery.default)(".mform").append(fdescription)}})}}}}))};_exports.checkvalue=element=>{var sum=parseInt(element.value),err=(0,_str.get_string)("error");console.log(sum);var savebtn=document.querySelector('div.modal-footer>button[data-action="save"]');isNaN(sum)?(element.classList.add("is-invalid"),_notification.default.alert(err,(0,_str.get_string)("questionnum_cannotbenull","local_questionbank"),(0,_str.get_string)("ok")),savebtn.disabled=!0):sum<0?(_notification.default.alert(err,(0,_str.get_string)("questionnum_cannotbenegatve","local_questionbank"),(0,_str.get_string)("ok")),savebtn.disabled=!0):(element.classList.remove("is-invalid"),savebtn.disabled=!1)}}));

//# sourceMappingURL=assignexperts.min.js.map