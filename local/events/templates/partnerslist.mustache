{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{# response}}
<div class="row">
    <div class="col-md-12">
        <div class="table-responsive mt-3">
            <table class="table generaltable" id="partnerlisttable">
                <thead>
                    <tr>
                        <th>{{#str}}partnername,local_events{{/str}}</th>
                        <th>{{#str}}description,local_events{{/str}}</th>
                        <th>{{#str}}logo, local_events{{/str}}</th>
                        <th>{{#str}}action, local_events{{/str}}</th>
                        
                    </tr>
                </thead>
                <tbody>
                {{#records}}
                    <tr>
                        <td>{{partnername}}</a></td>
                        <td> {{# isdescription}}
                                {{^ strlength}}
                                    <p class="text-muted">{{{ description }}}</p>
                                {{/ strlength }}
                                {{# strlength}}
                                    <p class="text-muted">{{{ descriptionstring }}} ...</p>
                                {{/ strlength }}
                                {{/ isdescription}}
                                {{^ isdescription }}
                                    <p class="">{{#str}}nodesc, local_events{{/str}}</p>
                                {{/ isdescription }}</td>
                        <td> <div class="partnerlogo">
                            {{#logo}}
                            <img src="{{logo}}"></div>
                            {{/logo}}
                            {{^logo}}--{{/logo}}
                        </td>
                        <td>
                            <div class="d-flex action_btns">
                            {{#action}}
                                 <a alt="{{#str}}view{{/str}}" title="{{#str}}view{{/str}}" data-action="viewpartner" data-id = "{{id}}" data-name = "{{partnername}}" data-eventid = "{{eventid}}" ><span class="bg-primary text-white"><i class="fa fa-search-plus" aria-hidden="true"></i></span></a>
                                 <a alt="{{#str}}edit{{/str}}" title="{{#str}}edit{{/str}}"  data-action="createpartner" data-id = "{{id}}" data-name = "{{partnername}}"><span class="bg-success text-white"><i class="fa fa-pencil" aria-hidden="true"></i></span></a>
                                 <a alt="{{#str}}delete{{/str}}" title="{{#str}}delete{{/str}}"  data-action="deletepartner" data-id = "{{id}}" data-name="{{partnername}}" data-eventid = "{{eventid}}"><span class="bg-danger text-white"><i class="fa fa-trash-o" aria-hidden="true"></i></span></a>
                            {{/action}}
                            </div>
                        </td>
                    </tr>
                    {{/records}}
                </tbody>
            </table>
        </div>
    </div>
</div>
{{/ response}}
{{#js}}
    require(['local_events/eventsform'], function(s) {
        s.init();
    });
{{/js}}