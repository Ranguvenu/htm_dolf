{"version":3,"file":"learningtracks.min.js","sources":["../src/learningtracks.js"],"sourcesContent":["/**\r\n * Add a create new group modal to the page.\r\n *\r\n * @module     core_group/AjaxForms\r\n * @class      AjaxForms\r\n * @package\r\n * @copyright  2017 Damyon Wiese <damyon@moodle.com>\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\n define([\r\n    'core/str',\r\n    'core/modal_factory',\r\n    'core/modal_events',\r\n    'core/ajax',\r\n    'core/templates',\r\n    'jquery',\r\n    'theme_academy/cardPaginate',\r\n    'theme_academy/homepage',\r\n    'jqueryui',\r\n], function(Str, ModalFactory, ModalEvents, Ajax, Templates, $,Cardpaginate, HomePage) {\r\n    //var learningtrack;\r\n    return {\r\n        init: function(args) {\r\n            \r\n        },\r\n        completionInfo: function(params) {\r\n            var name = params.name;\r\n            var target = \".\"+name;\r\n            var promise = Ajax.call([{\r\n                methodname: 'local_learningtracks_trackview_'+name,\r\n                args: params\r\n            }]);\r\n            $(\"#courses_tabdataid\").empty();\r\n            $(\"#usersid\").empty();\r\n            $(\"#audiencesid\").empty();\r\n            $(\"#requestedusersid\").empty();\r\n            $(\".tab-pane\").removeClass('active');\r\n            $(\"#\"+name).addClass('active');\r\n\r\n            promise[0].done(function(resp) {\r\n                var data = Templates.render('local_learningtracks/trackview'+name, {response: resp});\r\n                data.then(function(response){\r\n                    $(target).html(response);\r\n                });\r\n            }).fail(function() {\r\n                // do something with the exception\r\n                //console.log(ex);\r\n            });\r\n        },\r\n        coursesData: function(params) {\r\n            var targetid = 'courses_tabdata';\r\n            var options = {targetID: targetid,\r\n                        templateName: 'local_learningtracks/trackviewcourses',\r\n                        methodName: 'local_learningtracks_trackview_courses',\r\n                        perPage: 5,\r\n                        cardClass: 'col-md-6 col-12',\r\n                        viewType: 'card'};\r\n\r\n            var dataoptions = {tabname: 'courses',trackid: params};\r\n            var filterdata = {};\r\n\r\n            Cardpaginate.reload(options, dataoptions,filterdata);\r\n        },\r\n        load: function () {\r\n\r\n        }\r\n        // LearningItems: function() {\r\n        //     let homepage = new HomePage();\r\n        //     $('#enroll').on('click', function(e) {\r\n        //         e.preventDefault();\r\n        //        let learningitems = $('.learningitem');\r\n        //        let message = '';\r\n        //         console.log(learningitems);\r\n        //        $(learningitems).each(function(index){\r\n        //             let names[] = $(this).prop('name');\r\n        //        });\r\n\r\n        //        if(message !== ''){\r\n        //             homepage.confirmbox('Please select variation for all the learningitems');\r\n        //        }else{\r\n        //         e.trigger('click');\r\n        //        }\r\n               \r\n        //        // console.log(learningitems); debugger;\r\n        //        //  if(($(\"input[name^='exam-*[]']\").prop('checked') == false) || ($(\"input[name^='tp-*[]']\").prop('checked') == false)){\r\n        //        //      alert('Please select options');\r\n        //        //      return false;\r\n        //        //      //do something\r\n        //        //  } else {\r\n        //        //      return true;\r\n        //        //  }\r\n        //     });\r\n       \r\n        // }\r\n    };\r\n});\r\n"],"names":["define","Str","ModalFactory","ModalEvents","Ajax","Templates","$","Cardpaginate","HomePage","init","args","completionInfo","params","name","target","promise","call","methodname","empty","removeClass","addClass","done","resp","render","response","then","html","fail","coursesData","options","targetID","templateName","methodName","perPage","cardClass","viewType","dataoptions","tabname","trackid","reload","load"],"mappings":";;;;;;;;;AASCA,6CAAO,CACJ,WACA,qBACA,oBACA,YACA,iBACA,SACA,6BACA,yBACA,aACD,SAASC,IAAKC,aAAcC,YAAaC,KAAMC,UAAWC,EAAEC,aAAcC,gBAElE,CACHC,KAAM,SAASC,QAGfC,eAAgB,SAASC,YACjBC,KAAOD,OAAOC,KACdC,OAAS,IAAID,KACbE,QAAUX,KAAKY,KAAK,CAAC,CACrBC,WAAY,kCAAkCJ,KAC9CH,KAAME,UAEVN,EAAE,sBAAsBY,QACxBZ,EAAE,YAAYY,QACdZ,EAAE,gBAAgBY,QAClBZ,EAAE,qBAAqBY,QACvBZ,EAAE,aAAaa,YAAY,UAC3Bb,EAAE,IAAIO,MAAMO,SAAS,UAErBL,QAAQ,GAAGM,MAAK,SAASC,MACVjB,UAAUkB,OAAO,iCAAiCV,KAAM,CAACW,SAAUF,OACzEG,MAAK,SAASD,UACflB,EAAEQ,QAAQY,KAAKF,gBAEpBG,MAAK,gBAKZC,YAAa,SAAShB,YAEdiB,QAAU,CAACC,SADA,kBAEHC,aAAc,wCACdC,WAAY,yCACZC,QAAS,EACTC,UAAW,kBACXC,SAAU,QAElBC,YAAc,CAACC,QAAS,UAAUC,QAAS1B,QAG/CL,aAAagC,OAAOV,QAASO,YAFZ,KAIrBI,KAAM"}