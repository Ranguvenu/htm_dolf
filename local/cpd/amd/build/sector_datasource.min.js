define("local_cpd/sector_datasource",["jquery","core/ajax","core/notification"],(function($,Ajax,Notification){return{processResults:function(selector,results){var options=[];return $.each(results.data,(function(index,response){options.push({value:response.id,label:response.code+" "+response.title})})),options},transport:function(selector,query,callback){var el=$(selector),sectorid=0,allsegments=0,sectorlist=0,type=el.data("type");switch(type){case"segment":sectorid=el.attr("data-sectorid");break;case"jobfamily":void 0===(sectorid=el.attr("data-segmentid"))&&0!=(sectorlist=$("select[name='sectors[]'] option:selected").map((function(){return this.value})).get().join(", "))&&(allsegments=1);break;case"jobrole":sectorid=el.attr("data-jobfamilyid")}Ajax.call([{methodname:"local_trainingprogram_segmentlist",args:{type:type,sectorid:sectorid,sectorlist:sectorlist,allsegments:allsegments}}])[0].then(callback).catch(Notification.exception)}}}));

//# sourceMappingURL=sector_datasource.min.js.map