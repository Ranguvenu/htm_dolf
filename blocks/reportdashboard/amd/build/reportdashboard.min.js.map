{"version":3,"file":"reportdashboard.min.js","sources":["../src/reportdashboard.js"],"sourcesContent":["define(['core/ajax',\r\n        'block_learnerscript/report',\r\n        'block_learnerscript/reportwidget',\r\n        'block_learnerscript/schedule',\r\n        'block_learnerscript/helper',\r\n        'block_learnerscript/ajax',\r\n        'block_learnerscript/select2',\r\n        'block_learnerscript/jquery.dataTables',\r\n        'block_learnerscript/radioslider',\r\n        'block_learnerscript/flatpickr',\r\n        'core/str',\r\n        'jquery',\r\n        'jqueryui',\r\n        'block_learnerscript/bootstrapnotify',\r\n        'block_reportdashboard/inplace_editable'\r\n    ],\r\n    function(Ajax, report, reportwidget, schedule, helper, ajax, select2, DataTable,RadiosToSlider,flatpickr, Str, $) {\r\n        return {\r\n            init: function() {\r\n                    $(document).ajaxStop(function() {\r\n                         $(\".loader\").fadeOut(\"slow\");\r\n                    });\r\n                    helper.Select2Ajax({});\r\n                    $(\".dashboardcourses\").change(function(){\r\n                        var courseid = $(this).val();\r\n                        $(\".report_courses\").val(courseid);\r\n                        reportwidget.DashboardTiles();\r\n                        reportwidget.DashboardWidgets();\r\n                        $(\".viewmore\").each(function(){\r\n                            var ahref = $(this).attr('href');\r\n                        });\r\n                        //$('.breadcrumb-button.pull-xs-right').html($(this).find('option:selected').text());\r\n                    });\r\n\r\n                    $( \"#createdashbaord_form\" ).submit(function( event ) {\r\n                        var dashboardname = $( \"#id_dashboard\" ).val();\r\n                        var name = dashboardname.trim();\r\n                        if(name == '' || name == null){\r\n                            $( \"#id_error_dashboard\" ).css('display', 'block');\r\n                            $( \"#id_error_dashboard_nospaces\" ).css('display', 'none');\r\n                            event.preventDefault();\r\n                        }\r\n                        spaceexist = name.indexOf(\" \");\r\n                        if(spaceexist > 0 && spaceexist != ''){\r\n                            $( \"#id_error_dashboard\" ).css('display', 'none');\r\n                            $( \"#id_error_dashboard_nospaces\" ).css('display', 'block');\r\n                            event.preventDefault();\r\n                        }\r\n                    });\r\n\r\n                $.ui.dialog.prototype._focusTabbable = $.noop;\r\n                var DheaderPosition = $(\"#dashboard-header\").position();\r\n                $(\".sidenav\").offset({top: 0});\r\n                $(\"#internalbsm\").offset({top: DheaderPosition.top});\r\n                /**\r\n                * Select2 Options\r\n                */\r\n                $(\"select[data-select2='1']\").select2();\r\n                helper.Select2Ajax({\r\n                    action: 'reportlist',\r\n                    multiple: true\r\n                });\r\n               /**\r\n                * Filter area\r\n                */\r\n                $(document).on('click',\".filterform #id_filter_clear\",function(e) {\r\n                    $(this).parents('.mform').trigger(\"reset\");\r\n                    var activityelement = $(this).parents('.mform').find('#id_filter_activities');\r\n                    var instancelement = $(this).parents('.block_reportdashboard').find('.report_dashboard_container');\r\n                    var reportid = instancelement.data('reportid');\r\n                    var reporttype = instancelement.data('reporttype');\r\n                    var instanceid = instancelement.data('blockinstance');\r\n                    var userelement = $(this).parents('.mform').find('#id_filter_users');\r\n                    // reportjs.UserCourses({ userid: 0, reporttype: args.reporttype ,element: activityelement});\r\n                    // smartfilter.EnrolledUsers({ courseid: 0, element: activityelement});\r\n                    smartfilter.CourseActivities({ courseid: 0,element: activityelement });\r\n                    // $(\".filterform select[data-select2='1']\").select2(\"destroy\").select2({ theme: \"classic\" });\r\n                    $(\".filterform select[data-select2-ajax='1']\").val('0').trigger('change');\r\n                    $('.filterform')[0].reset();\r\n                    $(\".filterform #id_filter_clear\").attr('disabled', 'disabled');\r\n                    // $(\"select[data-select2='1']\").select2(\"destroy\").select2({ theme: \"classic\" });\r\n                    reportwidget.CreateDashboardwidget({reportid: reportid, reporttype: reporttype, instanceid: instanceid});\r\n                    // $(\".filterform #id_filter_clear\").attr('disabled', 'disabled');\r\n                });\r\n                $(document).on('change', \"select[name='filter_coursecategories']\", function(){\r\n                    var categoryid = this.value;\r\n                    var courseelement = $(this).closest('.mform').find('#id_filter_courses');\r\n                    if(courseelement.length != 0){\r\n                        smartfilter.categoryCourses({ categoryid: categoryid ,element: courseelement});\r\n                    }\r\n                });\r\n                $(document).on('change', \"select[name='filter_courses']\", function(){\r\n                    var courseid = this.value;\r\n                    var activityelement = $(this).closest('.mform').find('#id_filter_activities');\r\n                    var userelement = $(this).closest('.mform').find('#id_filter_users');\r\n                    if(activityelement.length != 0){\r\n                        smartfilter.CourseActivities({ courseid: courseid ,element: activityelement});\r\n                    }\r\n                });\r\n\r\n                /**\r\n                * Duration buttons\r\n                */\r\n                RadiosToSlider.init($('#segmented-button'), {\r\n                    size: 'medium',\r\n                    animation: true,\r\n                    reportdashboard: true\r\n                });\r\n                /**\r\n                * Duration Filter\r\n                */\r\n                flatpickr('#customrange',{\r\n                    mode: 'range',\r\n                    onOpen: function(selectedDates, dateStr,instance){\r\n                        instance.clear();\r\n                    },\r\n                    onClose: function(selectedDates, dateStr, instance) {\r\n                        $('#ls_fstartdate').val(selectedDates[0].getTime() / 1000);\r\n                        $('#ls_fenddate').val((selectedDates[1].getTime() / 1000) + (60 * 60 * 24));\r\n                        require(['block_learnerscript/reportwidget'], function(reportjs) {\r\n                            reportwidget.DashboardTiles();\r\n                            reportwidget.DashboardWidgets();\r\n                        });\r\n                    }\r\n                });\r\n                /**\r\n                 * Escape dropdown on click of window\r\n                 */\r\n                window.onclick = function(event) {\r\n                    if (!event.target.matches('.dropbtn')) {\r\n                        var dropdowns = document.getElementsByClassName(\"dropdown-content\");\r\n                        var i;\r\n                        for (i = 0; i < dropdowns.length; i++) {\r\n                            var openDropdown = dropdowns[i];\r\n                            if ($(openDropdown).hasClass('show')) {\r\n                                $(openDropdown).toggleClass('show');\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            /**\r\n             * Add reports as blocks to dashboard\r\n             * @return {[type]} [description]\r\n             */\r\n            addblocks_to_dashboard: function() {\r\n                Str.get_string('addblockstodashboard','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    if($('.reportslist').html().length > 0){\r\n                        console.log(\"here\");\r\n                         $('.reportslist').dialog();\r\n                    } else{\r\n\r\n                    $.urlParam = function(name){\r\n                    var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);\r\n                    if (results === null || results == ' ' ){\r\n                       return null;\r\n                    } else{\r\n                       return results[1] || 0;\r\n                    }\r\n                }\r\n                var role=$.urlParam('role');\r\n                var dashboardurl=$.urlParam('dashboardurl');\r\n                var contextlevel=$.urlParam('contextlevel');\r\n                var promise = Ajax.call([{\r\n                    methodname: 'block_reportdashboard_addwidget_to_dashboard',\r\n                    args: {\r\n                        role: role,\r\n                        dashboardurl: dashboardurl,\r\n                        contextlevel: contextlevel,\r\n                    },\r\n                }]);\r\n                promise[0].done(function(response) {\r\n                    var widget_title_img = \"<img class='dialog_title_icon' alt='Add Widgets' src='\" +\r\n                        M.util.image_url(\"add_widgets_icon\", \"block_reportdashboard\") + \"'/>\";\r\n                    $('.reportslist').dialog({\r\n                        title: 'Add widgets to dashboard',\r\n                        modal: true,\r\n                        minWidth: 700,\r\n                        maxHeight: 600\r\n                    });\r\n                    $('.reportslist').closest(\".ui-dialog\")\r\n                        .find(\".ui-dialog-titlebar-close\")\r\n                        .removeClass(\"ui-dialog-titlebar-close\")\r\n                        .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                    $('.reportslist').closest(\".ui-dialog\").find('.ui-dialog-title')\r\n                        .html(widget_title_img + 'Add widgets to dashboard');\r\n                     resp = JSON.parse(response);\r\n                     console.log(resp);\r\n                    $('.reportslist').html(resp);\r\n                }).fail(function(ex) {\r\n                    // do something with the exception\r\n                     console.log('Add Tiles');\r\n                });\r\n            }\r\n                });\r\n            },\r\n            addtiles_to_dashboard: function() {\r\n                Str.get_string('addtilestodashboard','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    if($('.statistics_reportslist').html().length > 0) {\r\n                        $('.statistics_reportslist').dialog();\r\n                    } else {\r\n                     $.urlParam = function(name){\r\n                    var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);\r\n                    if (results === null || results == ' ' ){\r\n                       return null;\r\n                    } else{\r\n                       return results[1] || 0;\r\n                    }\r\n                }\r\n\r\n                var role=$.urlParam('role');\r\n                var dashboardurl=$.urlParam('dashboardurl');\r\n                var contextlevel=$.urlParam('contextlevel');\r\n                var promise = Ajax.call([{\r\n                    methodname: 'block_reportdashboard_addtiles_to_dashboard',\r\n                     args: {\r\n                        role: role,\r\n                        dashboardurl: dashboardurl,\r\n                        contextlevel: contextlevel,\r\n                    },\r\n                }]);\r\n                 promise[0].done(function(response) {\r\n                    var tile_title_img = \"<img class='dialog_title_icon' alt='Add Tiles' src='\" +\r\n                        M.util.image_url(\"add_tiles_icon\", \"block_reportdashboard\") + \"'/>\";\r\n                    $('.statistics_reportslist').dialog({\r\n                        title: 'Add tiles to dashboard',\r\n                        modal: true,\r\n                        minWidth: 600,\r\n                        maxHeight: 600\r\n                    });\r\n                    $('.statistics_reportslist').closest(\".ui-dialog\")\r\n                        .find(\".ui-dialog-titlebar-close\")\r\n                        .removeClass(\"ui-dialog-titlebar-close\")\r\n                        .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                    $('.statistics_reportslist').closest(\".ui-dialog\").find('.ui-dialog-title')\r\n                        .html(tile_title_img + 'Add tiles to dashboard');\r\n                    resp = JSON.parse(response);\r\n                    $('.statistics_reportslist').html(resp);\r\n                    }).fail(function(ex) {\r\n                    // do something with the exception\r\n                     console.log('Add Tiles');\r\n                });\r\n                }\r\n                });\r\n            },\r\n            addnewdashboard: function() {\r\n                Str.get_string('addnewdashboard','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    document.getElementById(\"id_dashboard\").value = '';\r\n                    $(\"#id_error_dashboard\").css('display', 'none');\r\n                    var tile_title_img = \"<img class='dialog_title_icon' alt='Add new dashboard' src='\" +\r\n                        M.util.image_url(\"add_tiles_icon\", \"block_reportdashboard\") + \"'/>\";\r\n                    $('.newreport_dashboard').dialog({\r\n                        title: s,\r\n                        modal: true,\r\n                        minWidth: 450,\r\n                        maxHeight: 600\r\n                    });\r\n                    $('.newreport_dashboard').closest(\".ui-dialog\")\r\n                        .find(\".ui-dialog-titlebar-close\")\r\n                        .removeClass(\"ui-dialog-titlebar-close\")\r\n                        .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                        var Closebutton = $('.ui-icon-closethick').parent();\r\n                        $(Closebutton).attr({\r\n                            \"title\" : \"Close\"\r\n                        });\r\n                    $('.newreport_dashboard').closest(\".ui-dialog\").find('.ui-dialog-title')\r\n                        .html(tile_title_img + s);\r\n                });\r\n            },\r\n            updatedashboard: function(oldname,role){\r\n                Str.get_string('updatedashboard','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    $( \"#id_error_dashboard\" ).css('display', 'none');\r\n                    $( \"#id_error_dashboard_nospaces\" ).css('display', 'none');\r\n                    var tile_title_img = \"<img class='dialog_title_icon' alt='Add new dashboard' src='\" +\r\n                        M.util.image_url(\"add_tiles_icon\", \"block_reportdashboard\") + \"'/>\";\r\n                    $('.newreport_dashboard').dialog({\r\n                        title: s,\r\n                        modal: true,\r\n                        minWidth: 450,\r\n                        maxHeight: 600\r\n                    });\r\n                    $('.newreport_dashboard').closest(\".ui-dialog\")\r\n                        .find(\".ui-dialog-titlebar-close\")\r\n                        .removeClass(\"ui-dialog-titlebar-close\")\r\n                        .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                        var Closebutton = $('.ui-icon-closethick').parent();\r\n                        $(Closebutton).attr({\r\n                            \"title\" : \"Close\"\r\n                        });\r\n                    $('.newreport_dashboard').closest(\".ui-dialog\").find('.ui-dialog-title')\r\n                        .html(tile_title_img + s);\r\n                    document.getElementById(\"id_dashboard\").value = oldname;\r\n                    $(\"#createdashbaord_form\").submit(function(event){\r\n\r\n                        var dashboardname = $( \"#id_dashboard\" ).val();\r\n                        var name = dashboardname.trim();\r\n                        if (name == '' || name == null) {\r\n                            $( \"#id_error_dashboard\" ).css('display', 'block');\r\n                            $( \"#id_error_dashboard_nospaces\" ).css('display', 'none');\r\n                            event.preventDefault();\r\n                            return false;\r\n                        }\r\n                        spaceexist = name.indexOf(\" \");\r\n                        if (spaceexist > 0 && spaceexist != '') {\r\n                            $( \"#id_error_dashboard\" ).css('display', 'none');\r\n                            $( \"#id_error_dashboard_nospaces\" ).css('display', 'block');\r\n                            event.preventDefault();\r\n                            return false;\r\n                        }\r\n\r\n                        var args = {};\r\n                        args.action = 'updatedashboard';\r\n                        args.role = role;\r\n                        args.oldname = oldname;\r\n                        args.newname = document.getElementById(\"id_dashboard\").value ;\r\n                        senddata = JSON.stringify(args);\r\n                        var promise = ajax.call({\r\n                            args:args,\r\n                            url: M.cfg.wwwroot + \"/blocks/reportdashboard/ajax.php\"\r\n                        });\r\n                    });\r\n                });\r\n            },\r\n            sendreportemail: function(args) {\r\n                Str.get_strings([{\r\n                    key: 'sendemail',\r\n                    component: 'block_reportdashboard'\r\n                }]).then(function(s) {\r\n                    var url = M.cfg.wwwroot + '/blocks/learnerscript/ajax.php';\r\n                    args.nodeContent = 'sendreportemail' + args.instanceid;\r\n                    args.action = 'sendreportemail';\r\n                    args.title = s;\r\n                    AjaxForms = require('block_learnerscript/ajaxforms');\r\n                    AjaxForms.init(args, url);\r\n                });\r\n            },\r\n            reportfilter: function(args) {\r\n                var self = this;\r\n                if ($('.report_filter_' + args.instanceid).length < 1) {\r\n                    var promise = Ajax.call([{\r\n                        methodname: 'block_learnerscript_reportfilter',\r\n                        args: {\r\n                            action: 'reportfilter',\r\n                            reportid: args.reportid,\r\n                            instance: args.instanceid\r\n                        }\r\n                    }]);\r\n                    promise[0].done(function(resp) {\r\n                        $('body').append(\"<div class='report_filter_\" + args.instanceid + \"' style='display:none;'>\" + resp + \"</div>\");\r\n                        $(\"select[data-select2-ajax='1']\").each(function() {\r\n                            if (!$(this).hasClass('select2-hidden-accessible')) {\r\n                                helper.Select2Ajax({});\r\n                            }\r\n                        });\r\n                        self.reportFilterFormModal(args);\r\n                         $('.filterform'+args.instanceid+' .fitemtitle').hide();\r\n                          $('.filterform'+args.instanceid+' .felement').attr('style','margin:0');\r\n                    });\r\n                } else {\r\n                    self.reportFilterFormModal(args);\r\n                }\r\n            },\r\n            reportFilterFormModal: function (args) {\r\n                Str.get_string('reportfilters','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    var title_img = \"<img class='dialog_title_icon' alt='Filter' src='\" +\r\n                        M.util.image_url(\"reportfilter\", \"block_reportdashboard\") + \"'/>\";\r\n                    $(\".report_filter_\" + args.instanceid).dialog({\r\n                        title: s,\r\n                        dialogClass: 'reportfilter-popup',\r\n                        modal: true,\r\n                        resizable: true,\r\n                        autoOpen: true,\r\n                        draggable: false,\r\n                        width: 420,\r\n                        height: 'auto',\r\n                        appendTo: \"#inst\" + args.instanceid,\r\n                        position: {\r\n                            my: \"center\",\r\n                            at: \"center\",\r\n                            of: \"#inst\" + args.instanceid,\r\n                            within: \"#inst\" + args.instanceid\r\n                        },\r\n                        open: function(event, ui) {\r\n                        $(this).closest(\".ui-dialog\")\r\n                            .find(\".ui-dialog-titlebar-close\")\r\n                            .removeClass(\"ui-dialog-titlebar-close\")\r\n                            .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                            var Closebutton = $('.ui-icon-closethick').parent();\r\n                            $(Closebutton).attr({\r\n                                \"title\" : \"Close\"\r\n                            });\r\n\r\n                        $(this).closest(\".ui-dialog\")\r\n                            .find('.ui-dialog-title').html(title_img + s);\r\n\r\n                        /* Submit button */\r\n                        $(\".report_filter_\" + args.instanceid + \" form  #id_filter_apply\").click(function(e) {\r\n                            e.preventDefault();\r\n                            e.stopImmediatePropagation();\r\n                            // console.log($(\"#reportcontainer\" + args.instanceid).html().length);\r\n                            if ($(\"#reportcontainer\" + args.instanceid).html().length > 0 ) {\r\n                                args.reporttype = $(\"#reportcontainer\" + args.instanceid).data('reporttype');\r\n                            } else {\r\n                                args.reporttype = $(\"#plotreportcontainer\" + args.instanceid).data('reporttype');\r\n                            }\r\n                            var reportfilter = $(\".filterform\" + args.instanceid).serializeArray();\r\n                            args.container = '#reporttype_' + args.reportid;\r\n\r\n                            require(['block_learnerscript/reportwidget'], function(reportwidget) {\r\n                                reportwidget.CreateDashboardwidget({reportid: args.reportid,\r\n                                                             reporttype: args.reporttype,\r\n                                                             instanceid: args.instanceid});\r\n                                $(\".report_filter_\" + args.instanceid).dialog('close');\r\n                            });\r\n                            $(\".report_filter_\" + args.instanceid + \" form #id_filter_clear\").removeAttr('disabled');\r\n                        });\r\n                    }\r\n                });\r\n                $(\".report_filter_\" + args.instanceid + \" form #id_filter_clear\").click(function(e) {\r\n                    e.preventDefault();\r\n                    $(\".filterform\" + args.reportid).trigger(\"reset\");\r\n                    require(['block_learnerscript/reportwidget'], function(reportwidget) {\r\n                        reportwidget.DashboardWidgets(args);\r\n                        $(\".report_filter_\" + args.instanceid).dialog('close');\r\n                    });\r\n                    $(\".report_filter_\" + args.instanceid).dialog('close');\r\n                });\r\n            });\r\n            },\r\n            DeleteWidget: function(args) {\r\n                Str.get_string('deletewidget','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    var trainers = $(\"#delete_dialog\" + args.instanceid).dialog({\r\n                        resizable: true,\r\n                        autoOpen: true,\r\n                        width: 460,\r\n                        height: 210,\r\n                        title: s,\r\n                        modal: true,\r\n                        // dialogClass: 'dialog_fixed',\r\n                        appendTo: \"#inst\" + args.instanceid,\r\n                        position: {\r\n                            my: \"center\",\r\n                            at: \"center\",\r\n                            of: \"#inst\" + args.instanceid,\r\n                            within: \"#inst\" + args.instanceid\r\n                        },\r\n                        open: function(event, ui) {\r\n                            $(this).closest(\".ui-dialog\")\r\n                                .find(\".ui-dialog-titlebar-close\")\r\n                                .removeClass(\"ui-dialog-titlebar-close\")\r\n                                .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                                var Closebutton = $('.ui-icon-closethick').parent();\r\n                                $(Closebutton).attr({\r\n                                    \"title\" : \"Close\"\r\n                                });\r\n                        }\r\n                    });\r\n                });\r\n            },\r\n            Deletedashboard: function(args) {\r\n                Str.get_string('deletedashboard','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    var instancename = args.instance;\r\n                        $( \"#dashboard_delete_popup_\"+args.random).dialog({\r\n                            resizable: false,\r\n                            height: 150,\r\n                            width: 375,\r\n                            modal: true,\r\n                            title : s,\r\n                            open: function(event) {\r\n                            $(this).closest(\".ui-dialog\")\r\n                                .find(\".ui-dialog-titlebar-close\")\r\n                                .removeClass(\"ui-dialog-titlebar-close\")\r\n                                .html(\"<span class='ui-button-icon-primary ui-icon ui-icon-closethick'></span>\");\r\n                                var Closebutton = $('.ui-icon-closethick').parent();\r\n                                $(Closebutton).attr({\r\n                                    \"title\" : \"Close\"\r\n                                });\r\n                            },\r\n                            close: function(event, ui) {\r\n                                $(this).dialog('destroy').hide();\r\n                            }\r\n                        });\r\n                });\r\n            },\r\n            /**\r\n             * Schedule report form in popup in dashboard\r\n             * @param  object args reportid\r\n             * @return Popup with schedule form\r\n             */\r\n            schreportform: function(args) {\r\n                var self = this;\r\n                Str.get_string('schedulereport','block_reportdashboard'\r\n                ).then(function(s) {\r\n                    var url = M.cfg.wwwroot + '/blocks/learnerscript/ajax.php';\r\n                    args.title = s;\r\n                    args.nodeContent = 'schreportform' + args.instanceid;\r\n                    args.action = 'schreportform';\r\n                    args.courseid = $('[name=\"filter_courses\"]').val();\r\n                    AjaxForms = require('block_learnerscript/ajaxforms');\r\n                    AjaxForms.init(args, url);\r\n                });\r\n            }\r\n        };\r\n    });\r\n"],"names":["define","Ajax","report","reportwidget","schedule","helper","ajax","select2","DataTable","RadiosToSlider","flatpickr","Str","$","init","document","ajaxStop","fadeOut","Select2Ajax","change","courseid","this","val","DashboardTiles","DashboardWidgets","each","attr","submit","event","name","trim","css","preventDefault","spaceexist","indexOf","ui","dialog","prototype","_focusTabbable","noop","DheaderPosition","position","offset","top","action","multiple","on","e","parents","trigger","activityelement","find","instancelement","reportid","data","reporttype","instanceid","smartfilter","CourseActivities","element","reset","CreateDashboardwidget","categoryid","value","courseelement","closest","length","categoryCourses","size","animation","reportdashboard","mode","onOpen","selectedDates","dateStr","instance","clear","onClose","getTime","require","reportjs","window","onclick","target","matches","i","dropdowns","getElementsByClassName","openDropdown","hasClass","toggleClass","addblocks_to_dashboard","get_string","then","s","html","console","log","urlParam","results","RegExp","exec","location","href","role","dashboardurl","contextlevel","call","methodname","args","done","response","widget_title_img","M","util","image_url","title","modal","minWidth","maxHeight","removeClass","resp","JSON","parse","fail","ex","addtiles_to_dashboard","tile_title_img","addnewdashboard","getElementById","Closebutton","parent","updatedashboard","oldname","newname","senddata","stringify","url","cfg","wwwroot","sendreportemail","get_strings","key","component","nodeContent","AjaxForms","reportfilter","self","append","reportFilterFormModal","hide","title_img","dialogClass","resizable","autoOpen","draggable","width","height","appendTo","my","at","of","within","open","click","stopImmediatePropagation","serializeArray","container","removeAttr","DeleteWidget","Deletedashboard","random","close","schreportform"],"mappings":"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"}